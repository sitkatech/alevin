ProjectFirmaMaps.SelectableMap=function(n){ProjectFirmaMaps.Map.call(this,n);var t=this;_.each(this.mapLayers,function(n){n.removeEventListener("click");n.on("click",function(n){t.setLayerSelected(n.layer);t.onSelectLayer(n)})})};ProjectFirmaMaps.SelectableMap.prototype=Sitka.Methods.clonePrototype(ProjectFirmaMaps.Map.prototype);ProjectFirmaMaps.Map.prototype.addLayersToMapLayersControl=function(n,t){delete t["Street Labels"];var i={"Feature Groups":t};L.control.groupedLayers(n,i,{exclusiveGroups:["Feature Groups"]}).addTo(this.map)};ProjectFirmaMaps.SelectableMap.prototype.onSelectLayer=function(){};ProjectFirmaMaps.SelectableMap.prototype.setLayerSelected=function(n){Sitka.Methods.isUndefinedNullOrEmpty(this.lastSelected)||this.map.removeLayer(this.lastSelected);this.lastSelected=L.geoJson(n.toGeoJSON(),{pointToLayer:function(n,t){return L.marker(t,{icon:L.MakiMarkers.icon({icon:"marker",color:"#ff0",size:"m"}),riseOnHover:!0})},style:function(){return{fillcolor:"#ff0",fill:!0,fillOpacity:.2,color:"#ff0",weight:5,stroke:!0}}});this.lastSelected.addTo(this.map)};