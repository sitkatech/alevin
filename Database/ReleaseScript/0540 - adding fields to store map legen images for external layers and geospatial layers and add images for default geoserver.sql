

alter table dbo.ExternalMapLayer
add MapLegendImageFileResourceInfoID int null foreign key references dbo.FileResourceInfo(FileResourceInfoID)


alter table dbo.GeospatialAreaType
add MapLegendImageFileResourceInfoID int null foreign key references dbo.FileResourceInfo(FileResourceInfoID)

GO

declare @tenantID int
declare @geospatialAreaTypeID int
declare @fileResourceInfoID int
declare @createPersonID int

set @tenantID = 1 -- SitkaTechnologyGroup
set @geospatialAreaTypeID = 4
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
select @fileResourceInfoID
select SCOPE_IDENTITY()


insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 2 -- ClackamasPartnership
set @geospatialAreaTypeID = 1
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 3 -- RCDProjectTracker
set @geospatialAreaTypeID = 3
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 4 -- NCRPProjectTracker
set @geospatialAreaTypeID = 2 --Watershed - HUC 12
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID

set @geospatialAreaTypeID = 25 --Watershed - HUC 8
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID



set @tenantID = 5 -- DemoProjectFirma
set @geospatialAreaTypeID = 5
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 6 -- PeaksToPeople
set @geospatialAreaTypeID = 6
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 7 -- JohnDayBasinPartnership
set @geospatialAreaTypeID = 20 --Watershed
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID

set @geospatialAreaTypeID = 21 --Priority Focus Area
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 8 -- AshlandForestAllLandsRestorationInitiative
set @geospatialAreaTypeID = 8
select @createPersonID = 3156 -- Matt Deniston
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID


set @tenantID = 13 -- SSMPProjectTracker
set @geospatialAreaTypeID = 26
select @createPersonID = PersonID from dbo.Person where TenantID = @tenantID and LastName = 'Bulloch'
insert into dbo.FileResourceInfo(TenantID, FileResourceMimeTypeID, OriginalBaseFilename, OriginalFileExtension, FileResourceGUID, CreatePersonID, CreateDate)
values
(@tenantID, 5, 'geoserver_default', '.png', NEWID(), @createPersonID, CURRENT_TIMESTAMP)
set @fileResourceInfoID = SCOPE_IDENTITY()
insert into dbo.FileResourceData(TenantID, FileResourceInfoID, [Data])
values
(@tenantID, @fileResourceInfoID, 0x89504E470D0A1A0A0000000D49484452000000130000001508020000002B6B4286000000017352474200AECE1CE90000000467414D410000B18F0BFC6105000000097048597300000EC300000EC301C76FA864000000AF49444154384F63FCFFFF3F035900A4F3F34F86C79FA07C6200070B83922058E799670C134F30B032333042A5F081BFFF19A47819DA9CC13ACF3E6358708121DE804180032A8D075C7801422D4E0C4C103E3313489B301761C4C306D101D3490618D549088CEA2404A0297EDE7986404D065E76A8281E70E335C3ADB70CAD90BC72FE39C3F4330CFF88CBE1C09C28C7CF506B0FD6F9F30FC3A79F500962000B138320275827548044406E0831300000DC9B3D96383627C10000000049454E44AE426082)
update dbo.GeospatialAreaType set MapLegendImageFileResourceInfoID = @fileResourceInfoID where GeospatialAreaTypeID = @geospatialAreaTypeID
